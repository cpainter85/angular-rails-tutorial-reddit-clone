%html
  %head
    %title My Angular App!
    %script{:src =>"http://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"}
    %script{:src => "app.js"}
  %body{"ng-app" => "flapperNews", "ng-controller" => "MainCtrl"}
    %div{"ng-repeat" => "post in posts | orderBy: '-upvotes'"}
      %span{"ng-click" => "incrementUpvotes(post)"} ^
      %a{"ng-show" => "post.link", :href => "{{post.link}}"}
        {{post.title}}
      %span{"ng-hide" => "post.link"}
        {{post.title}}
      %span - upvotes: {{post.upvotes}}
    %form{"ng-submit" => "addPost()"}
      %input{:type => "text", :placeholder => "Title", "ng-model" => "title"}
      %br
      %input{:type => "text", :placeholder => "Link", "ng-model" => "link"}
      %br
      %button{:type => "submit"} Post
